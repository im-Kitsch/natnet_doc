

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Welcome to natnet_bridge’s documentation! &mdash; natnet_bridge 1.00 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick start for natnet_bridge" href="pages/00_use_natnet_bridge.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> natnet_bridge
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pages/00_use_natnet_bridge.html">Quick start for natnet_bridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/01_other_details.html">Some details</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/05_msg_def.html">NatNet Message definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/08.Other%20Resources.html">Other Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/15_possible%20future%20work.html">Advices future work</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/20_optitrack_bridge.html">Use optitrack bridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/25_draft.html">not documented things</a></li>
<li class="toctree-l1"><a class="reference internal" href="_build_api/library_root.html">Library API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">natnet_bridge</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to natnet_bridge’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="welcome-to-natnet-bridge-s-documentation">
<h1>Welcome to natnet_bridge’s documentation!<a class="headerlink" href="#welcome-to-natnet-bridge-s-documentation" title="Permalink to this headline">¶</a></h1>
<section id="project-structure">
<h2>Project Structure<a class="headerlink" href="#project-structure" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Project</span>
<span class="o">|---</span><span class="n">natnet_bridg</span>\
<span class="o">|</span>    <span class="o">|</span>       <span class="n">src</span>\
<span class="o">|</span>    <span class="o">|</span>       <span class="n">include</span>\
<span class="o">|</span>    <span class="o">|</span>       <span class="o">...</span>\
<span class="o">|--</span><span class="n">optitrack_bridge</span>\
<span class="o">|---</span><span class="n">reference</span>
<span class="o">|</span>    <span class="o">|</span>       <span class="n">CATKIN_IGNORE</span>  <span class="c1"># This is to ignore the packages in this folder</span>
<span class="o">|</span>    <span class="o">|</span>       <span class="n">optitrack_bridge</span>\
<span class="o">|</span>    <span class="o">|</span>   <span class="n">natnet_sdk</span>\
<span class="o">|</span>    <span class="o">|</span>   <span class="n">NatNetSDKCrossplatform</span><span class="o">-</span><span class="n">master</span>\ <span class="c1"># this is Linux version of NatNetSDK &#39;Packet Client example&#39; in github</span>
<span class="o">|</span>    <span class="o">|</span>       <span class="n">mocap_optitrack</span><span class="o">-</span><span class="n">master</span>\  <span class="c1"># widely used third party Optitrack-ROS bridge</span>
<span class="o">|</span>    <span class="o">|</span>       <span class="n">PacketClient</span>\  <span class="c1"># windows SDK</span>
<span class="o">|</span>    <span class="o">|</span>       <span class="n">PythonClient</span>\  <span class="c1"># windows SDK</span>
<span class="o">|---</span><span class="n">docs</span>\
<span class="o">|---...</span>
</pre></div>
</div>
</section>
</section>
<section id="quick-start-for-natnet-bridge">
<h1>Quick start for natnet_bridge<a class="headerlink" href="#quick-start-for-natnet-bridge" title="Permalink to this headline">¶</a></h1>
<p>Clone the repo into <code class="docutils literal notranslate"><span class="pre">ROS_Workspace</span></code>, and run <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">catkin_make</span></code>.</p>
<dl>
<dt><strong>1. Configuring Motive</strong></dt><dd><p>Open the <a class="reference external" href="https://v22.wiki.optitrack.com/index.php?title=Data_Streaming_Pane">Data Streaming Pane</a>
in Motive by clicking on <code class="docutils literal notranslate"><span class="pre">View-&gt;Data</span> <span class="pre">Streaming</span></code>.
click on the 3 dots in the right upper corner, then click <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Advanced</span></code>.
set <code class="docutils literal notranslate"><span class="pre">Type</span></code> in <cite>Advanced Network Settings</cite> to <code class="docutils literal notranslate"><span class="pre">Multicast</span></code>, specify (command and data) <cite>port`(default is 1510 and 1511)
if necessary and set the ``Multicast Interface`</cite> (default: 239.255.42.99)</p>
</dd>
<dt><strong>2. Configuring natnet_bridge</strong></dt><dd><p>Configuring the multicast IP address/data port/command port, iteratively run following commands</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ roscd natnet_bridge/config
$ vim parameter.yaml
</pre></div>
</div>
<p>If you want to use 2d information, specify the <code class="docutils literal notranslate"><span class="pre">use_2d_bool</span></code> and <code class="docutils literal notranslate"><span class="pre">use_2d_plane_height</span></code>.  If you want to additionally get information like <cite>unidentified markers</cite>, change corresponding parameter
<code class="docutils literal notranslate"><span class="pre">publish_xxx</span></code> as true.</p>
<p>It could also be configured later via <code class="docutils literal notranslate"><span class="pre">dynamic_reconfigure</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>make sure that the Motive coordinate setting in both Motive-side and Ros-Side(<code class="docutils literal notranslate"><span class="pre">parameter:</span> <span class="pre">optitrack_coordinate</span></code>)
are the same. Otherwise it will be wrong.</p>
</div>
</dd>
<dt><strong>3.  Run natnet_bridge</strong></dt><dd><p>Run the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ roslaunch natnet_bridge natnet_bridge.launch
</pre></div>
</div>
<p>If you want to show complete information like ROS_DEBUG information, you can run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ roslaunch natnet_bridge natnet_bridge.launch show_debug_info:=true
</pre></div>
</div>
<p>Otherwise it is also possible to run following command via running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rosconsole set /natnet_node ros.natnet_bridge debug
</pre></div>
</div>
<p>You can also change the configuration while running via,
it would convenient when you need to change the settings while
running.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ roslaunch natnet_bridge natnet_bridge.launch launch_reconfigure:=true
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The rigid bodys’ name will be identical with the definition in windows’ Motive side setting.
But you have to firstly name the rigid body’s before run natnet_node.
Since in case of updating of rigid body’s setting like ID/name, Motive will not notify receiver.</p>
<p>Make sure your setting of rigid bodies, ID and names do not repeat. It is important.
NatnetNode will check repeating while initializing but does not check while receiving.
If you add rigid body while receiving, the unknown rigid body will be published as <code class="docutils literal notranslate"><span class="pre">&quot;unknown&quot;+ID</span></code>.</p>
</div>
<figure class="align-default">
<img alt="_images/dyn_conf.png" src="_images/dyn_conf.png" />
</figure>
</dd>
</dl>
<section id="comparison-with-prior-optitrack-bridge">
<h2>Comparison with prior optitrack_bridge<a class="headerlink" href="#comparison-with-prior-optitrack-bridge" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>More stable for running logic.</p></li>
<li><p>Fixed bugs of optitrack_bridge.</p></li>
<li><p>Non-Blocking. Saving cpu resources.</p></li>
<li><p>More completely parsing information of NatNet</p></li>
<li><p>Controllable loop rate…</p></li>
<li><p>Time information</p></li>
<li><p>Get server version and natnet version from the motive serve</p></li>
<li><p>Friendly parameter setting, friendly information print out…</p></li>
</ul>
</div></blockquote>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pages/00_use_natnet_bridge.html">Quick start for natnet_bridge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pages/00_use_natnet_bridge.html#comparison-with-prior-optitrack-bridge">Comparison with prior optitrack_bridge</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pages/01_other_details.html">Some details</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/05_msg_def.html">NatNet Message definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/08.Other%20Resources.html">Other Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/15_possible%20future%20work.html">Advices future work</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pages/15_possible%20future%20work.html#software-latency">Software latency</a></li>
<li class="toctree-l2"><a class="reference internal" href="pages/15_possible%20future%20work.html#data-description">Data Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="pages/15_possible%20future%20work.html#linux-library">Linux Library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pages/20_optitrack_bridge.html">Use optitrack bridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/25_draft.html">not documented things</a></li>
<li class="toctree-l1"><a class="reference internal" href="_build_api/library_root.html">Library API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="_build_api/library_root.html#class-hierarchy">Class Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="_build_api/library_root.html#file-hierarchy">File Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="_build_api/library_root.html#full-api">Full API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="_build_api/library_root.html#namespaces">Namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="_build_api/library_root.html#classes-and-structs">Classes and Structs</a></li>
<li class="toctree-l3"><a class="reference internal" href="_build_api/library_root.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="_build_api/library_root.html#variables">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="_build_api/library_root.html#defines">Defines</a></li>
<li class="toctree-l3"><a class="reference internal" href="_build_api/library_root.html#typedefs">Typedefs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">索引</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="pages/00_use_natnet_bridge.html" class="btn btn-neutral float-right" title="Quick start for natnet_bridge" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Zhiyuan Hu.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>